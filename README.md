2020 캔위성 경연대회에서 Team SADA가 사용한 코드 및 노트북입니다. 

Q1. 캔위성이란?

A. 캔위성(Cansat)은, 1998년 스탠퍼드대학의 로버트 트윅(Robert Twiggs) 교수에 의해 제안된 교육용 위성모사 프로그램에서 사용한 위성으로, 위성의 역할을 모사하는 구조계, 전력계, 데이터처리계, 통신계, 탑재체 등의 기능을 음료수 캔(예: 콜라 캔) 내에 구현한 데서 명명(Can+satellite)의 유래를 찾을 수 있습니다. 발사 및 임무운용에 필요한 위성구성요소를 매우 단순하게 구성하여, 고공에서 짧은 시간 동안 위성처럼 운용하는 것이 특징입니다. 본 대회에서의 캔위성은 위성과 유사하게 본체부와 ,탑재부, 그리고 고공 낙하를 위한 낙하부, 지상과의 통신을 위한 지상부로 구성되어 있습니다. 캔위성의 본체부는 구조부, 전력부, 통신부, 데이터처리부, 기본 센서부로 구성되며, 탑재부는 카메라부와 확장 센서부로 구성되어 있습니다. 캔위성은 실제 위성처럼 우주로켓에 실려 지구궤도에 투입되는 것을 목표로 하지는 않습니다. 기구(balloon), 드론, 소형 과학로켓 등을 활용하여 상공 수백 미터 고도까지 캔위성을 올려준 후, 캔위성을 분리하고 캔위성에 달린 낙하산을 전개하여 캔위성이 서서히 고공에서 낙하하는 동안 마치 위성처럼 사전에 계획된 일련의 임무를 수행하는 방식을 취합니다

Q2. 캔위성 경연대회에 대해 자세히 알고 싶습니다. 
A. 1차 평가(서류 평가), 온라인 교육, 2차평가, 사전교육, 경연대회, 최종결과발표회 순서 2개월이 넘는 기간동안 대회가 진행됩니다. 1차 평가때는 참가동기 및 팀 소개, 팀구성, 임무배경, 세부목표, 개념설개 및 개발방안, 관측 데이터 활용방안, 프로젝트 관리 등을 구체적으로 작성하는 임무제안서를 제출하여 평가합니다. 온라인 교육에서는 각 부문 수준별로, 캔위성 제작에 필요한 지식을 스스로 학습할 수 있도록 대회 홈페이지에 교육내용이 구성되어 있어 이를 기반으로 2차 평가를 위한 캔위성 제작이 들어갑니다. (인공위성 소개, 캔위성 구성방법, 캔위성 해외 경연대회 소개, 마이크로프로세서 원리 및 응용, 임무확장 인터페이스 및 임무확장 방법, 송수신 프로토콜 및 캔위성 블록도 등) 2차 평가때는 발표평가로서 기본 임무를 위한 캔위성 제작과정 및 확장 임무 구현 진행과정과 활용방안 등을 발표영상을 제출하여 최종 본선 진출을 위한 10팀을 선정합니다. 올해는 온라인 사전교육으로 진행되었으나 슬기부 참가자 캔위성 임무확장 교육을 위해 KAIST에서 사전교육을 진행합니다. 이후 구현한 캔위성을 가지고 고흥시 항공우주센터에서 본선경연을 진행합니다. 이때 캔위성을 소형로켓을 통해 발사하여 GPS, IMU, 사진 지상국 통신 등의 기본임무와 팀별 확장임무를 수행합니다. 이후 약 1주 뒤에 진행되는 최종결과발표회 때는 경연대회 본선에서 얻은 데이터의 분석과 확장임무의 실현정도, 협력 및 홍보,  지금까지의 총 노력들을 포함하여 발표를 진행하며 최종적으로 평가를 진행합니다. 

Q3. SADA 캔위성의 하드웨어는 어떻게 진행하였나요? 
A. GPS, IMU, 사진 데이터 수집을 위한 기본 캔위성을 완성시킨 후 확장임무 구현을 위한 tensorflow 구동 가능한 Orange Pi를 확장 보드로 선정하였습니다(영상에 나와 있는 캔위성의 구성은 2차 평가때 사용된 이미지입니다) 영상에서 나오는 모델에서 orange pi와 직접적으로 연결되는 카메라를 하나 더 추가해 총 2개의 카메라를 장착하였으며 캔위성의 5V 핀을 이용해 추가 확장보드에 전원을 공급하였습니다. 이후 확장보드는 바라사가 시작되면 회수 전까지 녹화 프로그럄을 동작하도록 프로그래밍 하였습니다. 

Q4. 캔위성 경연대회에서 수집하는 데이터는 구체적으로 무엇이 있나요?
A. IMU센서를 통해 캔위성의 각 axis별로 기울기를 알 수 있습니다. Cds 광센서를 통해 밝기 정보를 수집할 수 있습니다. GPS 센서를 이용하여 캔위성의 시간별 GPS좌표를 구해낼 수 있습니다. 카메라 모듈을 통해 캔위성이 내려다 보는 바닥면의 사진 및 영상을 얻을 수 있습니다. 이외에도 참가팀 별로 진행하는 확장임무에 따라 다른 센서 및 방법을 통해 데이터를 수집합니다. 

Q5. 캔위성의 머신러닝 모델은 무엇이며 어떻게 학습했는지 궁금합니다. 
A. 저희 팀의 연구 주제는 'Semantic Segmentation을 통한 드론 및 위성 착륙 가능 지점 탐색' 으로 캔위성에서부터 얻은 사진을 구분하고자 하는 클래스별로 영역을 구분하는 Semantic Segmentation을 진행해 착륙지점을 선정하는 것입니다. 캔위성으로부터 수집한 이미지를 Semantic Segmentation 하기 위한 데이터셋으로 ISPRS semantic Dataset을 이용하고자 하였지만 ftp 서버 문제로 대안으로 Semantic Drone Dataset을 이용하였습니다. 이후 Semantic Segmentation을 위한 모델로  FCN보다 확장된 up-sampling과 skip 아키텍쳐를 적용해 우수한 성능을 보여준  U-Net을 선정하였으며 Base Model로는 가벼운 MobileNetV2로 하였습니다. Pytorch를 기본으로 하여 Colab에서 TPU환경으로 학습을 진행하였습니다. 모델 학습 방법은 모델 학습 평가지표가 되는 IoU를 높이기 위해 2단계로 나누어 진행하였는데 1단계는 CrossEntropy함수로 30 epochs로 학습을 진행하였고 2단계로는 20 epochs로 학습하는데 Weighted CrossEntropy와 Lovasz softmax loss를 이용해 학습을 진행하였습니다. 그리고 각 단계에서 평가를 위한 Validation loss가 7번 감소하지 않으면 조기종료 시켰습니다. 모델 학습 결과는 https://www.youtube.com/watch?v=s00O97PJmfY&t=531s&ab_channel=TaeguKang 를 참고해주세요! 

Q6. 캔위성 경연대회 준비과정을 자세히 알고 싶습니다!
A. Q2를 참고하면 도움이 될 것 같습니다. 저희 팀의 준비과정을 자세히 알고 싶다면, 아래 두 영상을 참고하면 도움이 될 것입니다. 
  Team SADA 최종 발표 영상 : https://www.youtube.com/watch?v=s00O97PJmfY&t=531s&ab_channel=TaeguKang
  두 과고생의 뜨거운 도전 | 2020 Cansat : https://www.youtube.com/watch?v=MmcI1rp4DQk&ab_channel=TaeguKang
